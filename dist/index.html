<!doctype html><html lang="en"><head><meta charset="utf-8"><title>js13k</title><meta name="description" content="My contrinution to the js13kgames competition."><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}#score{height:20px;margin:0 0 20px;position:relative}#score #background,#score #foreground{width:100%;position:absolute;height:100%}#score #background{background:#fff}#score #foreground{background:#c7deff;z-index:10;width:50%}#score svg#marker{position:absolute;z-index:20;height:100%;width:auto;left:50%;margin-left:-10px}#score span{position:absolute;z-index:30;color:#fff;font-size:19px;display:block;line-height:14px;padding:0 10px}body{color:#000;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";background:#e0e0e0}body div#gamecube{background:#fff;width:80%;max-width:1020px;min-height:110vh;border-radius:5px;-webkit-box-shadow:0 0 5px 1px #c2c2c2;box-shadow:0 0 5px 1px #c2c2c2;left:0;right:0;margin:auto}body div#gamecube>span{padding:100px;display:block}body div#gamecube>span>span{display:inline-block}body div#gamecube span.good{color:green}body div#gamecube span.bad{color:red}body div#gamecube span.current{font-weight:700}body div#gamecube span.next{opacity:.5}div#box{width:50px;height:50px;background:red;display:block;margin:-25px 0 0 -25px;position:absolute}</style></head><body><section id="score"><div id="foreground"></div><div id="background"></div><svg xmlns="http://www.w3.org/2000/svg" width="20" id="marker" fill="#7cb3ff" height="20" version="1"><path d="M1 0h18v2H1zM1 4h18l-9 16z"/></svg> <span>50</span></section><div id="gamecube"><span></span><div id="box"></div></div></body><script>"use strict";var cube=document.getElementById("gamecube"),box=document.getElementById("box"),scoreBar=document.getElementById("foreground"),scoreMarker=document.getElementById("marker"),scoreText=document.querySelector("#score span"),position={x:0,y:0},words=[],timestamp=0,score=new Score,WORD_LIST="the,of,and,a,to,in,is,you,that,it,he,was,for,on,are,as,with,his,they,I,at,be,this,have,from,or,one,had,by,word,but,not,what,all,were,we,when,your,can,said,there,use,an,each,which,she,do,how,their,if,will,up,other,about,out,many,then,them,these,so,some,her,would,make,like,him,into,time,has,look,two,more,write,go,see,number,no,way,could,people,my,than,first,water,been,call,who,oil,its,now,find,long,down,day,did,get,come,made,may,part".split(","),rand=function(e,o){return Math.floor(e+Math.random()*o)},checkChar=function(e){words[score.wordIndex].testKey(e),words[score.wordIndex].index>=words[score.wordIndex].word.length&&(score.wordIndex++,score.add(200),words.push(new Word(WORD_LIST[rand(0,WORD_LIST.length)])))},updateWords=function(){if(words){var n="";words.forEach(function(t){n+='<span class="'+(t.index>=t.word.length?"current":"next")+'">',Array.from(t.word).forEach(function(e,o){var r=o<t.index?"good":"bad";n+='<span class="'+r+'">'+e+"</span>"}),n+="</span>&nbsp;"}),cube.children[0].innerHTML=n}};function Score(){this.gameScore=0,this.gameTimer=1e4,this.wordIndex=0,this.add=function(e){this.gameTimer+=e,this.gameScore+=e,scoreText.innerHTML=this.gameScore}}function Word(e){this.word=e,this.index=0,this.testKey=function(e){e===this.word[this.index]&&(this.index++,score.add(100),updateWords())}}var timerTick=function e(o){if(score.gameTimer-=o-timestamp,timestamp=o,updateScore(score.gameTimer),score.gameTimer<0)return alert("game over");requestAnimationFrame(e)},updateScore=function(e){var o=e/1e4*100+"%";scoreBar.style.width=o,scoreMarker.style.left=o},init=function(){words.push(new Word(WORD_LIST[rand(0,WORD_LIST.length)])),words.push(new Word(WORD_LIST[rand(0,WORD_LIST.length)])),words.push(new Word(WORD_LIST[rand(0,WORD_LIST.length)])),updateWords()};init()</script><script>"use strict";cube.addEventListener("click",function(e){cube.requestPointerLock()}),document.addEventListener("pointerlockchange",function(e){document.pointerLockElement===cube?(requestAnimationFrame(timerTick),document.addEventListener("mousemove",updatePos,!1)):document.removeEventListener("mousemove",updatePos,!1)});var updatePos=function(e){position.x+=e.movementX,position.y+=e.movementY,requestAnimationFrame(draw)},draw=function(){box.style.cssText="transform: translateX("+position.x+"px) translateY("+position.y+"px)"}</script><script>"use strict";function keyPress(e){checkChar(e.key)}document.onkeydown=keyPress</script></html>